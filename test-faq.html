<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FAQ Test</title>
    <style>
        /* FAQ Answer Content Formatting */
        .faq-answer ul {
            margin: 12px 0;
            padding-left: 20px;
            list-style: none;
        }
        .faq-answer ul li {
            margin: 8px 0;
            position: relative;
            padding-left: 20px;
        }
        .faq-answer ul li:before {
            content: '•';
            color: #007acc;
            font-weight: bold;
            position: absolute;
            left: 0;
            top: 0;
        }
        .faq-answer ol {
            margin: 12px 0;
            padding-left: 20px;
        }
        .faq-answer ol li {
            margin: 8px 0;
            padding-left: 5px;
        }
        .faq-answer strong {
            font-weight: 600;
            color: #333;
        }
        .faq-answer p {
            margin: 8px 0;
            line-height: 1.6;
        }
    </style>
</head>
<body>
    <div class="faq-answer" style="color: #666; font-size: 14px; line-height: 140%;">
        <div id="test-content"></div>
    </div>

    <script>
        // Simple Markdown parser for FAQ content
        function parseMarkdown(text) {
            // Split by double newlines to create paragraphs
            const paragraphs = text.split('\n\n');
            let result = '';
            
            for (let paragraph of paragraphs) {
                paragraph = paragraph.trim();
                if (!paragraph) continue;
                
                // Check if paragraph contains bullet points (starts with •)
                if (paragraph.includes('\n•')) {
                    const lines = paragraph.split('\n');
                    let listItems = [];
                    let currentP = '';
                    
                    for (let line of lines) {
                        line = line.trim();
                        if (line.startsWith('•')) {
                            if (currentP) {
                                result += `<p>${currentP}</p>`;
                                currentP = '';
                            }
                            listItems.push(line.substring(1).trim());
                        } else if (listItems.length > 0 && line) {
                            listItems[listItems.length - 1] += ' ' + line;
                        } else if (line) {
                            if (listItems.length > 0) {
                                result += '<ul>' + listItems.map(item => `<li>${item}</li>`).join('') + '</ul>';
                                listItems = [];
                            }
                            currentP += (currentP ? ' ' : '') + line;
                        }
                    }
                    
                    if (currentP) {
                        result += `<p>${currentP}</p>`;
                    }
                    if (listItems.length > 0) {
                        result += '<ul>' + listItems.map(item => `<li>${item}</li>`).join('') + '</ul>';
                    }
                } 
                // Check if paragraph contains numbered list (starts with 1. 2.)
                else if (paragraph.match(/^\d+\./m)) {
                    const lines = paragraph.split('\n');
                    let listItems = [];
                    let currentP = '';
                    
                    for (let line of lines) {
                        line = line.trim();
                        if (line.match(/^\d+\./)) {
                            if (currentP) {
                                result += `<p>${currentP}</p>`;
                                currentP = '';
                            }
                            listItems.push(line.replace(/^\d+\.\s*/, ''));
                        } else if (listItems.length > 0 && line) {
                            listItems[listItems.length - 1] += ' ' + line;
                        } else if (line) {
                            if (listItems.length > 0) {
                                result += '<ol>' + listItems.map(item => `<li>${item}</li>`).join('') + '</ol>';
                                listItems = [];
                            }
                            currentP += (currentP ? ' ' : '') + line;
                        }
                    }
                    
                    if (currentP) {
                        result += `<p>${currentP}</p>`;
                    }
                    if (listItems.length > 0) {
                        result += '<ol>' + listItems.map(item => `<li>${item}</li>`).join('') + '</ol>';
                    }
                }
                // Regular paragraph
                else {
                    result += `<p>${paragraph}</p>`;
                }
            }
            
            return result;
        }

        // Test with sample text (without bold formatting)
        const testText = `We have designed a completely transparent rebate reward calculation mechanism to ensure that every effort you make receives precise rewards. All amounts are ultimately based in US dollars (USD). If the original currency of the order is not US dollars, the conversion rate will be based on the company's regulations at the time:

• Order Amount: The total order amount when the customer places an order, converted to US dollars according to the exchange rate at the time.
• Product Actual Amount: This is the basis for calculating rebate rewards. The calculation method is "Order Amount" minus all additional costs, including discounts, taxes, and shipping fees.
• Gross Payout: "Product Actual Amount" multiplied by your current "BEL level corresponding reward percentage."
• Net Payout: After deducting 20% statutory withholding tax (WHT) from the "Gross Amount," this is the final amount you actually receive.`;

        document.getElementById('test-content').innerHTML = parseMarkdown(testText);
    </script>
</body>
</html>